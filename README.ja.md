# OpenAI GPT-Image-1 MCP Server

[![npm version](https://img.shields.io/npm/v/openai-gpt-image-mcp-server.svg)](https://www.npmjs.com/package/openai-gpt-image-mcp-server)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![npm downloads](https://img.shields.io/npm/dm/openai-gpt-image-mcp-server.svg)](https://www.npmjs.com/package/openai-gpt-image-mcp-server)

[English](README.md) | æ—¥æœ¬èª

OpenAI ã® gpt-image-1 API ã‚’ä½¿ç”¨ã—ã¦ç”»åƒç”Ÿæˆãƒ»ç·¨é›†ã‚’å¯èƒ½ã«ã™ã‚‹ MCPï¼ˆModel Context Protocolï¼‰ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚Claude Desktopã€Claude Code ãªã©ã® MCP å¯¾å¿œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æºã—ã¾ã™ã€‚

## ç‰¹å¾´

### ã‚³ã‚¢æ©Ÿèƒ½
- ğŸ¨ **é«˜å“è³ªãªç”»åƒç”Ÿæˆ**: æœ€å…ˆç«¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ç”»åƒç”Ÿæˆ
- ğŸ“ **å„ªã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**: ç”»åƒå†…ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ­£ç¢ºã«æç”»
- âœ‚ï¸ **ç²¾å¯†ãªç”»åƒç·¨é›†**: ã‚¤ãƒ³ãƒšã‚¤ãƒ³ãƒ†ã‚£ãƒ³ã‚°ã«ã‚ˆã‚‹éƒ¨åˆ†ç·¨é›†
- ğŸ”„ **ç”»åƒå¤‰æ›**: ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›ã¨å†è§£é‡ˆ
- ğŸ“ **æŸ”è»Ÿãªã‚µã‚¤ã‚ºè¨­å®š**: æ­£æ–¹å½¢ã€ç¸¦é•·ã€æ¨ªé•·ãªã©å¤šæ§˜ãªã‚µã‚¤ã‚ºã«å¯¾å¿œ
- ğŸšï¸ **å“è³ªãƒ¬ãƒ™ãƒ«èª¿æ•´**: lowã€mediumã€high ã‹ã‚‰é¸æŠå¯èƒ½
- ğŸ–¼ï¸ **å¤šæ§˜ãªå‡ºåŠ›å½¢å¼**: PNGã€JPEGã€WebP ã«å¯¾å¿œ
- ğŸŒ **ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ**: macOSã€Windowsã€Linux ã§ã‚¹ãƒãƒ¼ãƒˆãªãƒ‘ã‚¹å‡¦ç†

### é«˜åº¦ãªæ©Ÿèƒ½ (v1.0.3+)
- ğŸ² **è¤‡æ•°ç”»åƒç”Ÿæˆ**: 1å›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§1ã€œ10æšã®ç”»åƒã‚’ç”Ÿæˆ
- ğŸ“š **å±¥æ­´ç®¡ç†**: SQLite ãƒ™ãƒ¼ã‚¹ã®ç”Ÿæˆå±¥æ­´ã¨æ¤œç´¢æ©Ÿèƒ½
- âš¡ **éåŒæœŸã‚¸ãƒ§ãƒ–ã‚·ã‚¹ãƒ†ãƒ **: é€²æ—è¿½è·¡ä»˜ãã®ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†
- ğŸ·ï¸ **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿åŸ‹ã‚è¾¼ã¿**: PNG/JPEG ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®è‡ªå‹•ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿åŸ‹ã‚è¾¼ã¿
- ğŸ’° **ã‚³ã‚¹ãƒˆç®¡ç†**: è‡ªå‹•çš„ãªãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ã¨ã‚³ã‚¹ãƒˆæ¨å®š
- ğŸ›¡ï¸ **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã®å®‰å…¨æ€§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- ğŸ“ **ç”»åƒç®¡ç†**: ç”Ÿæˆæ¸ˆã¿ç”»åƒã®æ•´ç†ã¨ä¸€è¦§è¡¨ç¤º
- ğŸ”§ **ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰**: ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç”¨ã®è©³ç´°ãƒ­ã‚°

### ãƒãƒƒãƒå‡¦ç†æ©Ÿèƒ½ (v1.1.0+)
- ğŸ“¦ **CLIãƒãƒƒãƒãƒ„ãƒ¼ãƒ«**: ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰è¤‡æ•°ç”»åƒã‚’ä¸€æ‹¬ç”Ÿæˆ
- ğŸ”„ **åŒæ™‚å®Ÿè¡Œåˆ¶å¾¡**: è¨­å®šå¯èƒ½ãªä¸¦åˆ—å‡¦ç†ã®åˆ¶é™
- ğŸ“Š **ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š**: å®Ÿè¡Œå‰ã®ã‚³ã‚¹ãƒˆè©¦ç®—
- âš™ï¸ **ãƒªãƒˆãƒ©ã‚¤ãƒãƒªã‚·ãƒ¼**: å¤±æ•—ã—ãŸã‚¸ãƒ§ãƒ–ã®è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤
- ğŸ“ **è¤‡æ•°å‡ºåŠ›å½¢å¼**: ãƒ†ã‚­ã‚¹ãƒˆã¾ãŸã¯JSONå½¢å¼ã§ã®çµæœå‡ºåŠ›
- ğŸ¤– **GitHub Actions**: Issueã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ã®è‡ªå‹•ãƒãƒƒãƒç”Ÿæˆ
- ğŸ’¾ **ãƒãƒƒãƒå±¥æ­´**: ãƒãƒƒãƒå®Ÿè¡Œã®è¿½è·¡ã¨ç®¡ç†

## å‰ææ¡ä»¶

- **Node.js** v18 ä»¥ä¸Š
- **OpenAI API ã‚­ãƒ¼**ï¼ˆçµ„ç¹”èªè¨¼æ¸ˆã¿ï¼‰
- **MCP å¯¾å¿œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**ï¼ˆClaude Desktopã€Claude Code ãªã©ï¼‰

> âš ï¸ **é‡è¦**: gpt-image-1 ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€OpenAI çµ„ç¹”ã®èªè¨¼ï¼ˆOrganization Verificationï¼‰ãŒå¿…è¦ã§ã™ã€‚

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆ5åˆ†ï¼‰

**å‰ææ¡ä»¶:** Node.js 18+ã€çµ„ç¹”èªè¨¼æ¸ˆã¿ã® OpenAI API ã‚­ãƒ¼

### 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install -g openai-gpt-image-mcp-server
```

### 2. è¨­å®š

Claude Desktop ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆmacOS ã®å ´åˆã¯ `~/Library/Application Support/Claude/claude_desktop_config.json`ï¼‰ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

```json
{
  "mcpServers": {
    "openai-gpt-image": {
      "command": "openai-gpt-image-mcp-server",
      "env": {
        "OPENAI_API_KEY": "sk-proj-your-key-here"
      }
    }
  }
}
```

> **Windows ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ã‚³ãƒãƒ³ãƒ‰ã¯ `openai-gpt-image-mcp-server.cmd` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

### 3. Claude Desktop ã‚’å†èµ·å‹•

Claude Desktop ã‚’å®Œå…¨ã«å†èµ·å‹•ã—ã¦ãã ã•ã„ï¼ˆã‚·ã‚¹ãƒ†ãƒ ãƒˆãƒ¬ã‚¤/ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‹ã‚‰ã‚‚çµ‚äº†ï¼‰ã€‚

### 4. ãƒ†ã‚¹ãƒˆ

Claude ã§è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼š`ã€Œç¾ã—ã„å¤•æ—¥ã®é¢¨æ™¯ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€`

**å®Œäº†ï¼** è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨é«˜åº¦ãªæ©Ÿèƒ½ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã® [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](#ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install -g openai-gpt-image-mcp-server
```

### ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ“ãƒ«ãƒ‰

```bash
git clone https://github.com/ex-takashima/openAI-gpt-image-1-MCP-SERVER.git
cd openAI-gpt-image-1-MCP-SERVER
npm install
npm run build
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. OpenAI API ã‚­ãƒ¼ã®å–å¾—

1. [OpenAI Platform](https://platform.openai.com/) ã¸ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã¾ãŸã¯æ–°è¦ç™»éŒ²
3. **çµ„ç¹”èªè¨¼ã‚’å®Œäº†**:
   - [Settings > Organization > General](https://platform.openai.com/settings/organization/general) ã¸ã‚¢ã‚¯ã‚»ã‚¹
   - ã€ŒVerify Organizationã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - æœ¬äººç¢ºèªæ›¸é¡ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆæ”¿åºœç™ºè¡Œ IDï¼‰
   - é¡”èªè¨¼ã«ã‚ˆã‚‹æœ¬äººç¢ºèª
   - èªè¨¼å®Œäº†ã¾ã§æœ€å¤§ 15 åˆ†
4. API Keys ãƒšãƒ¼ã‚¸ã§æ–°ã—ã„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã‚’ä½œæˆ
5. ã‚­ãƒ¼ã‚’å®‰å…¨ã«ä¿ç®¡

### 2. API ã‚­ãƒ¼ã®è¨­å®š

ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦è¨­å®šï¼š

```bash
# Linux/macOS
export OPENAI_API_KEY="sk-proj-..."

# Windows (PowerShell)
$env:OPENAI_API_KEY="sk-proj-..."
```

ã¾ãŸã¯ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ï¼š

```bash
OPENAI_API_KEY=sk-proj-your-api-key-here
```

### 3. Claude Desktop ã®è¨­å®š

Claude Desktop ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

**macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
**Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
**Linux**: `~/.config/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "openai-gpt-image": {
      "command": "openai-gpt-image-mcp-server",
      "env": {
        "OPENAI_API_KEY": "sk-proj-your-api-key-here",
        "OPENAI_IMAGE_OUTPUT_DIR": "/Users/username/Pictures/ai-images"
      }
    }
  }
}
```

> **Windows ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ã‚³ãƒãƒ³ãƒ‰ã¯ `openai-gpt-image-mcp-server.cmd` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ç’°å¢ƒå¤‰æ•°**:
- `OPENAI_IMAGE_OUTPUT_DIR`: ã‚«ã‚¹ã‚¿ãƒ å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `~/Downloads/openai-images`ï¼‰
- `OPENAI_IMAGE_INPUT_DIR`: ã‚«ã‚¹ã‚¿ãƒ å…¥åŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨åŒã˜ï¼‰
- `OPENAI_IMAGE_EMBED_METADATA`: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿åŸ‹ã‚è¾¼ã¿ã®æœ‰åŠ¹åŒ–ï¼ˆ`true`/`false`ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `true`ï¼‰
- `OPENAI_IMAGE_METADATA_LEVEL`: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ãƒ¬ãƒ™ãƒ«ï¼ˆ`minimal`/`standard`/`full`ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `standard`ï¼‰
- `OPENAI_IMAGE_THUMBNAIL`: ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆã®æœ‰åŠ¹åŒ–ï¼ˆ`true`/`false`ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `false`ï¼‰
- `OPENAI_IMAGE_THUMBNAIL_SIZE`: ã‚µãƒ ãƒã‚¤ãƒ«ã‚µã‚¤ã‚ºï¼ˆãƒ”ã‚¯ã‚»ãƒ«å˜ä½ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `128`ã€ç¯„å›²: 1-512ï¼‰
- `OPENAI_IMAGE_THUMBNAIL_QUALITY`: ã‚µãƒ ãƒã‚¤ãƒ«ã® JPEG å“è³ªï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `60`ã€ç¯„å›²: 1-100ï¼‰
- `OPENAI_ORGANIZATION`: OpenAI çµ„ç¹” IDï¼ˆè¤‡æ•°çµ„ç¹”ã«æ‰€å±ã®å ´åˆï¼‰
- `HISTORY_DB_PATH`: ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜å ´æ‰€ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `~/.openai-gpt-image/history.db`ï¼‰
- `DEBUG`: `1` ã‚’è¨­å®šã™ã‚‹ã¨è©³ç´°ãƒ­ã‚°ã‚’æœ‰åŠ¹åŒ–

> ğŸ“– **å®Œå…¨ãªãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**: ã™ã¹ã¦ã®å¤‰æ•°ã®è©³ç´°ã«ã¤ã„ã¦ã¯ [ç’°å¢ƒå¤‰æ•°ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](docs/ENVIRONMENT_VARIABLES.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

è¨­å®šä¿å­˜å¾Œã€Claude Desktop ã‚’**å®Œå…¨ã«å†èµ·å‹•**ã—ã¦ãã ã•ã„ã€‚

### 4. Claude Code ã§ã®è¨­å®š

**Windows**:
```json
{
  "mcpServers": {
    "openai-gpt-image": {
      "command": "cmd",
      "args": ["/c", "npx", "-y", "openai-gpt-image-mcp-server"],
      "env": {
        "OPENAI_API_KEY": "sk-proj-your-api-key-here"
      }
    }
  }
}
```

**macOS/Linux**:
```json
{
  "mcpServers": {
    "openai-gpt-image": {
      "command": "npx",
      "args": ["-y", "openai-gpt-image-mcp-server"],
      "env": {
        "OPENAI_API_KEY": "sk-proj-your-api-key-here"
      }
    }
  }
}
```

## ä½¿ç”¨ä¾‹

### åŸºæœ¬çš„ãªç”»åƒç”Ÿæˆ

```
ç¾ã—ã„å¤•æ—¥ã®é¢¨æ™¯ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„
```

### ã‚µã‚¤ã‚ºæŒ‡å®š

```
1536x1024 ã®ãƒ¯ã‚¤ãƒ‰ç”»é¢ã§ã€å±±ã®é¢¨æ™¯ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„
```

### å“è³ªæŒ‡å®š

```
é«˜å“è³ªã§ã€å®‡å®™ç©ºé–“ã‚’æ¼‚ã†å®‡å®™é£›è¡Œå£«ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„
```

### ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

```
ã€ŒWELCOMEã€ã¨ã„ã†æ–‡å­—ãŒå¤§ããæ›¸ã‹ã‚ŒãŸçœ‹æ¿ã®ç”»åƒã‚’ç”Ÿæˆã—ã¦ãã ã•ã„
```

### ç”»åƒç·¨é›†

```
ã“ã®å†™çœŸã®èƒŒæ™¯ã‚’å¤‰æ›´ã—ãŸã„ã§ã™ã€‚
ãƒã‚¹ã‚¯ç”»åƒã‚’ä½¿ã£ã¦ã€èƒŒæ™¯ã ã‘ã‚’ç¾ã—ã„ãƒ“ãƒ¼ãƒã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚
```

### ç”»åƒå¤‰æ›

```
ã“ã®å†™çœŸã‚’æ²¹çµµé¢¨ã«å¤‰æ›ã—ã¦ãã ã•ã„
```

### é€éèƒŒæ™¯

```
é€éèƒŒæ™¯ã§ã€ãƒªãƒ³ã‚´ã®ã‚¤ãƒ©ã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¦ãã ã•ã„
```

### è¤‡æ•°ç”»åƒç”Ÿæˆ (v1.0.3+)

```
ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯ã®éƒ½å¸‚é¢¨æ™¯ã‚’5ç¨®é¡ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã§ç”Ÿæˆã—ã¦ãã ã•ã„
```

### å±¥æ­´è¡¨ç¤º (v1.0.3+)

```
å…ˆé€±ç”Ÿæˆã—ãŸç”»åƒã®å±¥æ­´ã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„
```

### éåŒæœŸã‚¸ãƒ§ãƒ– (v1.0.3+)

```
é«˜å“è³ªãªé¢¨æ™¯ç”»åƒã‚’10æšç”Ÿæˆã™ã‚‹ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚
ä½œæ¥­ã‚’ç¶šã‘ãªãŒã‚‰å‡¦ç†ã•ã›ãŸã„ã§ã™ã€‚
```

## ãƒãƒƒãƒå‡¦ç†

CLIãƒãƒƒãƒãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€è¤‡æ•°ã®ç”»åƒã‚’ä¸€åº¦ã«ç”Ÿæˆã—ã¾ã™ã€‚

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# åŸºæœ¬çš„ãªãƒãƒƒãƒç”Ÿæˆ
openai-gpt-image-batch examples/batch-simple.json

# å®Ÿè¡Œå‰ã«ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š
openai-gpt-image-batch examples/batch-detailed.json --estimate-only

# JSONå½¢å¼ã§çµæœã‚’å‡ºåŠ›
openai-gpt-image-batch examples/batch-large-scale.json --format json > result.json
```

### ãƒãƒƒãƒè¨­å®šã®ä¾‹

```json
{
  "jobs": [
    {
      "prompt": "æµ·ã«æ²ˆã‚€ç¾ã—ã„å¤•æ—¥",
      "output_path": "sunset.png",
      "size": "1536x1024",
      "quality": "high"
    },
    {
      "prompt": "æœªæ¥çš„ãªéƒ½å¸‚ã®ã‚¹ã‚«ã‚¤ãƒ©ã‚¤ãƒ³",
      "output_path": "city.png",
      "quality": "medium"
    }
  ],
  "max_concurrent": 3,
  "timeout": 900000
}
```

### CLIã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
openai-gpt-image-batch <config.json> [options]

Options:
  --output-dir <path>      å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  --format <text|json>     å‡ºåŠ›å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: textï¼‰
  --timeout <ms>           ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆãƒŸãƒªç§’ï¼‰
  --max-concurrent <n>     æœ€å¤§åŒæ™‚å®Ÿè¡Œæ•°ï¼ˆ1-10ï¼‰
  --estimate-only          ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Šã®ã¿å®Ÿè¡Œ
  --help, -h               ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º
  --version, -v            ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤º
```

### æ©Ÿèƒ½

- **åŒæ™‚å®Ÿè¡Œåˆ¶å¾¡**: è¨­å®šå¯èƒ½ãªä¸¦åˆ—å‡¦ç†åˆ¶é™ï¼ˆ1-10ã®åŒæ™‚ã‚¸ãƒ§ãƒ–ï¼‰
- **ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š**: `--estimate-only`ã§å®Ÿè¡Œå‰ã®ã‚³ã‚¹ãƒˆè©¦ç®—
- **ãƒªãƒˆãƒ©ã‚¤ãƒãƒªã‚·ãƒ¼**: å¤±æ•—ã—ãŸã‚¸ãƒ§ãƒ–ã®è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ï¼ˆè¨­å®šå¯èƒ½ï¼‰
- **è¤‡æ•°å‡ºåŠ›å½¢å¼**: ãƒ†ã‚­ã‚¹ãƒˆã¾ãŸã¯JSONå½¢å¼ã§ã®çµæœå‡ºåŠ›
- **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç®¡ç†**: é•·æ™‚é–“å®Ÿè¡Œã®é˜²æ­¢
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å€‹åˆ¥ã‚¸ãƒ§ãƒ–ãŒå¤±æ•—ã—ã¦ã‚‚ç¶™ç¶šå®Ÿè¡Œ
- **GitHub Actionsçµ±åˆ**: Issueã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ã®è‡ªå‹•ãƒãƒƒãƒç”Ÿæˆ

### ã‚µãƒ³ãƒ—ãƒ«è¨­å®š

4ã¤ã®ã‚µãƒ³ãƒ—ãƒ«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š

1. **batch-simple.json**: åŸºæœ¬çš„ãªãƒãƒƒãƒï¼ˆ3ç”»åƒï¼‰
2. **batch-detailed.json**: ã‚«ã‚¹ã‚¿ãƒ è¨­å®šä»˜ãè©³ç´°è¨­å®šï¼ˆ5ç”»åƒï¼‰
3. **batch-multi-variant.json**: ãƒãƒ«ãƒãƒãƒªã‚¢ãƒ³ãƒˆç”Ÿæˆï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã”ã¨ã«3-5ãƒãƒªã‚¢ãƒ³ãƒˆï¼‰
4. **batch-large-scale.json**: å¤§è¦æ¨¡ãƒãƒƒãƒå‡¦ç†ï¼ˆ10ç”»åƒä»¥ä¸Šï¼‰

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

è©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š
- [docs/BATCH_PROCESSING.md](docs/BATCH_PROCESSING.md) - English
- [docs/BATCH_PROCESSING.ja.md](docs/BATCH_PROCESSING.ja.md) - æ—¥æœ¬èª

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ä»¥ä¸‹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š
- åŒ…æ‹¬çš„ãªCLIä½¿ç”¨ã‚¬ã‚¤ãƒ‰
- ãƒãƒƒãƒè¨­å®šã®JSONå½¢å¼
- GitHub Actionsçµ±åˆ
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰
- ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

## åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«

### 1. `generate_image`

ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰æ–°ã—ã„ç”»åƒã‚’ç”Ÿæˆã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `prompt` (å¿…é ˆ): ç”»åƒç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
- `output_path`: ä¿å­˜ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `generated_image.png`ï¼‰
- `size`: `1024x1024`, `1024x1536`, `1536x1024`, `auto`
- `quality`: `low`, `medium`, `high`, `auto`
- `output_format`: `png`, `jpeg`, `webp`
- `transparent_background`: é€éèƒŒæ™¯ï¼ˆPNG ã®ã¿ï¼‰
- `moderation`: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ¬ãƒ™ãƒ«
- `sample_count`: ç”Ÿæˆã™ã‚‹ç”»åƒã®æšæ•°ï¼ˆ1-10ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1ï¼‰
- `return_base64`: Base64 å½¢å¼ã§è¿”å´

### 2. `edit_image`

æ—¢å­˜ç”»åƒã®ä¸€éƒ¨ã‚’ç·¨é›†ãƒ»ä¿®æ­£ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `prompt` (å¿…é ˆ): ç·¨é›†å†…å®¹ã®èª¬æ˜
- `reference_image_base64` ã¾ãŸã¯ `reference_image_path`: å…ƒç”»åƒ
- `mask_image_base64` ã¾ãŸã¯ `mask_image_path`: ãƒã‚¹ã‚¯ç”»åƒï¼ˆé€æ˜éƒ¨åˆ†=ç·¨é›†å¯¾è±¡ï¼‰
- `output_path`: ä¿å­˜å ´æ‰€
- `sample_count`: ç”Ÿæˆã™ã‚‹ç”»åƒã®æšæ•°ï¼ˆ1-10ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1ï¼‰
- ãã®ä»–ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ `generate_image` ã¨åŒã˜

### 3. `transform_image`

æ—¢å­˜ç”»åƒã‚’ãƒ™ãƒ¼ã‚¹ã«ã€æ–°ã—ã„ã‚¹ã‚¿ã‚¤ãƒ«ã‚„å†…å®¹ã®ç”»åƒã‚’ç”Ÿæˆã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `prompt` (å¿…é ˆ): å¤‰æ›æŒ‡ç¤º
- `reference_image_base64` ã¾ãŸã¯ `reference_image_path`: å‚ç…§ç”»åƒ
- `output_path`: ä¿å­˜å ´æ‰€
- `sample_count`: ç”Ÿæˆã™ã‚‹ç”»åƒã®æšæ•°ï¼ˆ1-10ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1ï¼‰
- ãã®ä»–ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ `generate_image` ã¨åŒã˜

### 4. `list_generated_images` - ç”»åƒä¸€è¦§è¡¨ç¤º

ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€è¦§è¡¨ç¤ºã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `directory`: æ¤œç´¢å¯¾è±¡ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆçœç•¥æ™‚ã¯ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰

### 5. `list_history`

ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ä»˜ãã§ç”Ÿæˆå±¥æ­´ã‚’é–²è¦§ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `limit`: æœ€å¤§ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ï¼ˆ1-100ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 20ï¼‰
- `offset`: ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”¨ï¼‰
- `tool_name`: ãƒ„ãƒ¼ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆ`generate_image`ã€`edit_image`ã€`transform_image`ï¼‰
- `query`: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…ã‚’æ¤œç´¢

### 6. `get_history_by_uuid`

ç‰¹å®šã®ç”Ÿæˆã«é–¢ã™ã‚‹è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `uuid` (å¿…é ˆ): å±¥æ­´ãƒ¬ã‚³ãƒ¼ãƒ‰ã® UUID

### 7. `start_generation_job`

ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§éåŒæœŸç”»åƒç”Ÿæˆã‚¸ãƒ§ãƒ–ã‚’é–‹å§‹ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `tool_name` (å¿…é ˆ): ä½¿ç”¨ã™ã‚‹ãƒ„ãƒ¼ãƒ«
- `prompt` (å¿…é ˆ): ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
- ãã®ä»–ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯å„ãƒ„ãƒ¼ãƒ«ã¨åŒã˜

### 8. `check_job_status`

éåŒæœŸã‚¸ãƒ§ãƒ–ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `job_id` (å¿…é ˆ): `start_generation_job` ã‹ã‚‰è¿”ã•ã‚ŒãŸã‚¸ãƒ§ãƒ– ID

### 9. `get_job_result`

å®Œäº†ã—ãŸã‚¸ãƒ§ãƒ–ã®çµæœã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `job_id` (å¿…é ˆ): ã‚¸ãƒ§ãƒ– ID

### 10. `cancel_job`

ä¿ç•™ä¸­ã¾ãŸã¯å®Ÿè¡Œä¸­ã®ã‚¸ãƒ§ãƒ–ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `job_id` (å¿…é ˆ): ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ã‚¸ãƒ§ãƒ– ID

### 11. `list_jobs`

ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä»˜ãã§éåŒæœŸã‚¸ãƒ§ãƒ–ã‚’ä¸€è¦§è¡¨ç¤ºã—ã¾ã™ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `status`: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆ`pending`ã€`running`ã€`completed`ã€`failed`ã€`cancelled`ï¼‰
- `tool_name`: ãƒ„ãƒ¼ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- `limit`: æœ€å¤§çµæœæ•°ï¼ˆ1-100ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 20ï¼‰
- `offset`: ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹çµæœæ•°

## é«˜åº¦ãªæ©Ÿèƒ½

### è¤‡æ•°ç”»åƒç”Ÿæˆ

ã™ã¹ã¦ã®ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã¯ `sample_count` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚µãƒãƒ¼ãƒˆã—ã€ä¸€åº¦ã«è¤‡æ•°ã®ç”»åƒã‚’ç”Ÿæˆã§ãã¾ã™ï¼š

```
ç³¸ã§éŠã¶çŒ«ã‚’5ç¨®é¡ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã§ç”Ÿæˆã—ã¦ãã ã•ã„
```

- ã‚µãƒãƒ¼ãƒˆç¯„å›²: 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Š1ã€œ10æš
- ãƒ•ã‚¡ã‚¤ãƒ«ã¯è‡ªå‹•çš„ã«ç•ªå·ä»˜ã‘ã•ã‚Œã¾ã™: `output_1.png`ã€`output_2.png`ãªã©
- ã‚³ã‚¹ãƒˆã¯ç”»åƒæ•°ã«å¿œã˜ã¦å¢—åŠ ã—ã¾ã™
- ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå±¥æ­´ã«è¨˜éŒ²ã•ã‚Œã¾ã™

### å±¥æ­´ç®¡ç†

ã™ã¹ã¦ã®ç”Ÿæˆã¯è‡ªå‹•çš„ã«ãƒ­ãƒ¼ã‚«ãƒ«ã® SQLite ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆ`~/.openai-gpt-image/history.db`ï¼‰ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š

**æœ€è¿‘ã®å±¥æ­´ã‚’è¡¨ç¤º:**
```
ç”Ÿæˆã—ãŸæœ€æ–°ã®10æšã®ç”»åƒã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„
```

**å±¥æ­´ã‚’æ¤œç´¢:**
```
ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã€Œå¤•æ—¥ã€ã‚’å«ã‚€ç”»åƒã‚’ã™ã¹ã¦æ¤œç´¢ã—ã¦ãã ã•ã„
```

**è©³ç´°ã‚’å–å¾—:**
```
ã“ã®å±¥æ­´ID ã®è©³ç´°ã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„: 8796265a-8dc8-48f4-9b40-fe241985379b
```

å±¥æ­´ã«ã¯ä»¥ä¸‹ãŒå«ã¾ã‚Œã¾ã™ï¼š
- ç”Ÿæˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
- ä½¿ç”¨ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
- ã‚³ã‚¹ãƒˆæƒ…å ±

### éåŒæœŸã‚¸ãƒ§ãƒ–ã‚·ã‚¹ãƒ†ãƒ 

é•·æ™‚é–“ã®æ“ä½œã‚„ãƒãƒƒãƒå‡¦ç†ã«ã¯ã€éåŒæœŸã‚¸ãƒ§ãƒ–ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

**ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ã‚’é–‹å§‹:**
```
é«˜å“è³ªãªå®‡å®™ç”»åƒã‚’10æšç”Ÿæˆã™ã‚‹ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ã‚’é–‹å§‹ã—ã¦ãã ã•ã„
```

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª:**
```
ã‚¸ãƒ§ãƒ– b7912655-0d8e-4ecc-be58-cbc2c4746932 ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„
```

**çµæœã‚’å–å¾—:**
```
ã‚¸ãƒ§ãƒ– b7912655-0d8e-4ecc-be58-cbc2c4746932 ã®çµæœã‚’å–å¾—ã—ã¦ãã ã•ã„
```

**ã‚¸ãƒ§ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:**
- â³ `pending`: é–‹å§‹å¾…ã¡
- ğŸ”„ `running`: ç¾åœ¨å‡¦ç†ä¸­
- âœ… `completed`: æ­£å¸¸å®Œäº†
- âŒ `failed`: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
- ğŸš« `cancelled`: æ‰‹å‹•ã‚­ãƒ£ãƒ³ã‚»ãƒ«

## ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®åŸ‹ã‚è¾¼ã¿

ç”Ÿæˆã•ã‚ŒãŸç”»åƒã«ã¯ã€è‡ªå‹•çš„ã«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒåŸ‹ã‚è¾¼ã¾ã‚Œã¾ã™ï¼š

**PNG ãƒ•ã‚¡ã‚¤ãƒ«**: tEXt ãƒãƒ£ãƒ³ã‚¯ã«ä»¥ä¸‹ã®æƒ…å ±ã‚’æ ¼ç´ï¼š
- `openai_gpt_image_uuid`: ä¸€æ„ã®è­˜åˆ¥å­
- `params_hash`: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã® SHA-256 ãƒãƒƒã‚·ãƒ¥
- `tool_name`: ä½¿ç”¨ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ï¼ˆgenerate_imageã€edit_imageã€transform_imageï¼‰
- `model`: ãƒ¢ãƒ‡ãƒ«åï¼ˆgpt-image-1ï¼‰
- `created_at`: ISO 8601 å½¢å¼ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
- `size`: ç”»åƒã‚µã‚¤ã‚ºï¼ˆä¾‹: "1024x1024"ï¼‰
- `quality`: å“è³ªãƒ¬ãƒ™ãƒ«ï¼ˆlowã€mediumã€highï¼‰
- `prompt`: ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆfull ãƒ¬ãƒ™ãƒ«ã®ã¿ï¼‰
- `parameters`: å®Œå…¨ãªç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆfull ãƒ¬ãƒ™ãƒ«ã®ã¿ï¼‰

**JPEG/WebP ãƒ•ã‚¡ã‚¤ãƒ«**: EXIF ImageDescription ã« JSON å½¢å¼ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´

**ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèªæ–¹æ³•:**
```bash
# macOS/Linux
exiftool generated_image.png | grep openai

# Windows (PowerShell)
exiftool generated_image.png
```

ã“ã‚Œã«ã‚ˆã‚Šã€ç”»åƒã‚’åˆ¥ã®å ´æ‰€ã«ç§»å‹•ã—ãŸå¾Œã§ã‚‚ã€ãã®ç”»åƒãŒã©ã®ã‚ˆã†ã«ä½œæˆã•ã‚ŒãŸã‹ã‚’è­˜åˆ¥ã§ãã¾ã™ã€‚

### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿åŸ‹ã‚è¾¼ã¿ã®åˆ¶å¾¡

ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã—ã¦ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®åŸ‹ã‚è¾¼ã¿å‹•ä½œã‚’åˆ¶å¾¡ã§ãã¾ã™ï¼š

**ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿åŸ‹ã‚è¾¼ã¿ã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ–:**
```json
{
  "mcpServers": {
    "openai-gpt-image": {
      "env": {
        "OPENAI_API_KEY": "sk-proj-...",
        "OPENAI_IMAGE_EMBED_METADATA": "false"
      }
    }
  }
}
```

**ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ãƒ¬ãƒ™ãƒ«ã‚’å¤‰æ›´:**
```json
{
  "mcpServers": {
    "openai-gpt-image": {
      "env": {
        "OPENAI_API_KEY": "sk-proj-...",
        "OPENAI_IMAGE_METADATA_LEVEL": "minimal"
      }
    }
  }
}
```

**ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ™ãƒ«ã®è©³ç´°:**

- **`minimal`**: UUID ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒãƒƒã‚·ãƒ¥ã®ã¿
  - æ¨å¥¨ç”¨é€”: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é‡è¦–ã®å ´åˆ
  - ã‚µã‚¤ã‚ºå½±éŸ¿: æœ€å°ï¼ˆç´„ 100 ãƒã‚¤ãƒˆï¼‰
  - å«ã¾ã‚Œã‚‹æƒ…å ±: `openai_gpt_image_uuid`ã€`params_hash`

- **`standard`**ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰: åŸºæœ¬çš„ãªç”Ÿæˆæƒ…å ±
  - æ¨å¥¨ç”¨é€”: å¤šãã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã€è©³ç´°ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã®ãƒãƒ©ãƒ³ã‚¹
  - ã‚µã‚¤ã‚ºå½±éŸ¿: å°ï¼ˆç´„ 300 ãƒã‚¤ãƒˆï¼‰
  - å«ã¾ã‚Œã‚‹æƒ…å ±: minimal ã®å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ + `tool_name`ã€`model`ã€`created_at`ã€`size`ã€`quality`

- **`full`**: å®Œå…¨ãªç”Ÿæˆè©³ç´°
  - æ¨å¥¨ç”¨é€”: å®Œå…¨ãªãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ã¨å†ç¾æ€§
  - ã‚µã‚¤ã‚ºå½±éŸ¿: ä¸­ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®é•·ã•ã«ã‚ˆã‚Šå¤‰å‹•ã€é€šå¸¸ 500-2000 ãƒã‚¤ãƒˆï¼‰
  - å«ã¾ã‚Œã‚‹æƒ…å ±: standard ã®å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ + `prompt`ã€`parameters`

**æ³¨æ„**: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®åŸ‹ã‚è¾¼ã¿ã¯ã€Œãƒ™ã‚¹ãƒˆã‚¨ãƒ•ã‚©ãƒ¼ãƒˆã€ã§ã™ã€‚åŸ‹ã‚è¾¼ã¿ã«å¤±æ•—ã—ãŸå ´åˆã§ã‚‚ã€ç”»åƒã¯ä¿å­˜ã•ã‚Œã¾ã™ã€‚è©³ç´°ã‚’ç¢ºèªã™ã‚‹ã«ã¯ `DEBUG=1` ã‚’æœ‰åŠ¹ã«ã—ã¦ãã ã•ã„ã€‚

## å‡ºåŠ›ãƒ‘ã‚¹ã®å‡¦ç†

ç”»åƒã¯ã‚¹ãƒãƒ¼ãƒˆãªã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œãƒ‘ã‚¹å‡¦ç†ã§ä¿å­˜ã•ã‚Œã¾ã™ï¼š

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ä½œ

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã™ã¹ã¦ã®ç”»åƒã¯ `~/Downloads/openai-images` ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š
- **macOS**: `/Users/username/Downloads/openai-images/`
- **Windows**: `C:\Users\username\Downloads\openai-images\`
- **Linux**: `/home/username/Downloads/openai-images/`

### ãƒ‘ã‚¹è§£æ±ºã®å„ªå…ˆé †ä½

1. **çµ¶å¯¾ãƒ‘ã‚¹**: ãã®ã¾ã¾ä½¿ç”¨
   ```
   /Users/username/Desktop/myimage.png  â†’ ãã®ã¾ã¾ä¿å­˜
   C:\Users\username\Desktop\myimage.png  â†’ ãã®ã¾ã¾ä¿å­˜
   ```

2. **ç›¸å¯¾ãƒ‘ã‚¹**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¾ãŸã¯ã‚«ã‚¹ã‚¿ãƒ å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã¨ã—ã¦è§£æ±º
   ```
   myimage.png  â†’ ~/Downloads/openai-images/myimage.png
   subfolder/image.png  â†’ ~/Downloads/openai-images/subfolder/image.png
   ```

3. **è‡ªå‹•ä½œæˆ**: è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„å ´åˆã¯è‡ªå‹•çš„ã«ä½œæˆ

### ã‚«ã‚¹ã‚¿ãƒ å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

`OPENAI_IMAGE_OUTPUT_DIR` ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼š

```json
{
  "mcpServers": {
    "openai-gpt-image": {
      "env": {
        "OPENAI_API_KEY": "sk-proj-...",
        "OPENAI_IMAGE_OUTPUT_DIR": "/Users/username/Pictures/ai-images"
      }
    }
  }
}
```

ã“ã‚Œã§ `myimage.png` ã¯ `/Users/username/Pictures/ai-images/myimage.png` ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚

## ã‚³ã‚¹ãƒˆç®¡ç†

ã™ã¹ã¦ã®æ“ä½œã§è‡ªå‹•çš„ã«ä»¥ä¸‹ã®æƒ…å ±ãŒè¿”å´ã•ã‚Œã¾ã™ï¼š

```
ğŸ“Š Usage Statistics

- Input tokens: 15
- Output tokens (image): 4,096
- Total tokens: 4,111
- Estimated cost: $0.042

ğŸ’° Cost breakdown:
  - Text processing: $0.000150
  - Image generation: $0.041850

ğŸ“ Parameters: high quality | 1024x1024 | png
```

### æ–™é‡‘ã®ç›®å®‰ï¼ˆ2025 å¹´ 10 æœˆæ™‚ç‚¹ï¼‰

| ã‚µã‚¤ã‚º | å“è³ª | æ¦‚ç®—ã‚³ã‚¹ãƒˆ |
|--------|------|-----------|
| 1024x1024 | low | $0.01-0.02 |
| 1024x1024 | medium | $0.04-0.07 |
| 1024x1024 | high | $0.17-0.19 |

> æœ€æ–°ã®æ–™é‡‘ã¯ [OpenAI å…¬å¼æ–™é‡‘ãƒšãƒ¼ã‚¸](https://openai.com/api/pricing/) ã‚’ã”ç¢ºèªãã ã•ã„ã€‚

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

| ç—‡çŠ¶ | è§£æ±ºç­– |
|------|-------|
| ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„ | Node.js v18+ ã‚’ç¢ºèªã€PATH ã‚’ç¢ºèª |
| èªè¨¼ã‚¨ãƒ©ãƒ¼ | `OPENAI_API_KEY` ã‚’ç¢ºèª |
| "organization must be verified" | [OpenAI Platform](https://platform.openai.com/settings/organization/general) ã§çµ„ç¹”èªè¨¼ã‚’å®Œäº† |
| ç”»åƒç”Ÿæˆå¤±æ•— | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å…·ä½“çš„ã«ã€`moderation: "low"` ã‚’è©¦ã™ |
| ç”»åƒç·¨é›†ãŒæœŸå¾…é€šã‚Šã§ãªã„ | ãƒã‚¹ã‚¯ç”»åƒãŒé€é PNG å½¢å¼ã‹ç¢ºèª |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼ (macOS/Windows) | çµ¶å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã€ã¾ãŸã¯ `OPENAI_IMAGE_OUTPUT_DIR` ã‚’è¨­å®š |
| "ENOENT: no such file or directory" | ãƒ‘ã‚¹å½¢å¼ã‚’ç¢ºèªã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ `~/Downloads/openai-images` ã‚’è©¦ã™ |

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰

è©³ç´°ãªãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ã«ã¯ï¼š

```bash
DEBUG=1 openai-gpt-image-mcp-server
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- API ã‚­ãƒ¼ã¯ `.gitignore` ã«è¿½åŠ ã—ã€å…¬é–‹ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„
- ç’°å¢ƒå¤‰æ•°ã¾ãŸã¯ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†
- å®šæœŸçš„ã«ã‚­ãƒ¼ã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- [OpenAI Dashboard](https://platform.openai.com/usage) ã§ä½¿ç”¨çŠ¶æ³ã‚’ç¢ºèª

## é–‹ç™º

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ãƒ“ãƒ«ãƒ‰
npm run build

# Watch ãƒ¢ãƒ¼ãƒ‰
npm run dev

# ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ
npm start
```

## ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

è²¢çŒ®ã‚’æ­“è¿ã—ã¾ã™ï¼Issue ã‚„ Pull Request ã‚’ãŠæ°—è»½ã«ã©ã†ãã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ LICENSE ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§

## è¬è¾

- [Model Context Protocol](https://modelcontextprotocol.io/)
- [OpenAI API](https://platform.openai.com/)
- [Claude Desktop](https://claude.ai/download)

## ãƒªãƒ³ã‚¯

- **npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**: https://www.npmjs.com/package/openai-gpt-image-mcp-server
- **GitHub ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/ex-takashima/openAI-gpt-image-1-MCP-SERVER
- **è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [CLAUDE.md](CLAUDE.md)

---

**ğŸ¨ OpenAI gpt-image-1 ã§ç´ æ•µãªç”»åƒç”Ÿæˆã‚’ï¼ğŸš€**
